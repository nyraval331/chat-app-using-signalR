{"version":3,"file":"PNotifyCallbacks.js","sources":["src/PNotifyCallbacks.html"],"sourcesContent":["<script>\n  import PNotify from \"./PNotify.html\";\n\n  let _open   = PNotify.prototype.open,\n      _close = PNotify.prototype.close;\n\n  const callbacks = (notice, options, name) => {\n    let modules = notice ? notice.get('modules') : options.modules;\n    let cbs = (modules && modules.Callbacks) ? modules.Callbacks : {};\n    return cbs[name] ? cbs[name] : () => true;\n  };\n\n  PNotify.prototype.open = function(...args) {\n    let ret = callbacks(this, null, 'beforeOpen')(this);\n    if (ret !== false) {\n      _open.apply(this, args);\n      callbacks(this, null, 'afterOpen')(this);\n    }\n  };\n\n  PNotify.prototype.close = function(timer_hide, ...args) {\n    let ret = callbacks(this, null, 'beforeClose')(this, timer_hide);\n    if (ret !== false) {\n      _close.apply(this, [timer_hide, ...args]);\n      callbacks(this, null, 'afterClose')(this, timer_hide);\n    }\n  };\n\n  export default {\n    setup (Component) {\n      Component.key = \"Callbacks\";\n\n      Component.getCallbacks = callbacks;\n\n      let _alert   = PNotify.alert,\n          _notice  = PNotify.notice,\n          _info    = PNotify.info,\n          _success = PNotify.success,\n          _error   = PNotify.error;\n\n      let init = (original, options) => {\n        callbacks(null, options, 'beforeInit')(options);\n        let notice = original(options);\n        callbacks(notice, null, 'afterInit')(notice);\n        return notice;\n      };\n\n      PNotify.alert = (options) => {\n        return init(_alert, options);\n      };\n      PNotify.notice = (options) => {\n        return init(_notice, options);\n      };\n      PNotify.info = (options) => {\n        return init(_info, options);\n      };\n      PNotify.success = (options) => {\n        return init(_success, options);\n      };\n      PNotify.error = (options) => {\n        return init(_error, options);\n      };\n\n      // Register the module with PNotify.\n      PNotify.modules.Callbacks = Component;\n    }\n  }\n</script>\n"],"names":[],"mappings":"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"}