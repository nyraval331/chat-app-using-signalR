{"version":3,"file":"PNotifyButtons.js","sources":["src/PNotifyButtons.html"],"sourcesContent":["{{#if _showCloser}}\n  <div\n      class=\"ui-pnotify-closer {{(!closerHover || _mouseIsIn) ? '' : 'ui-pnotify-buttons-hidden'}}\"\n      role=\"button\"\n      tabindex=\"0\"\n      title=\"{{labels.close}}\"\n      on:click=\"handleCloserClick()\">\n    <span class=\"{{_closerClass}}\"></span>\n  </div>\n{{/if}}\n{{#if _showSticker}}\n  <div\n      class=\"ui-pnotify-sticker {{(!stickerHover || _mouseIsIn) ? '' : 'ui-pnotify-buttons-hidden'}}\"\n      role=\"button\"\n      aria-pressed=\"{{_options.hide}}\"\n      tabindex=\"0\"\n      title=\"{{_options.hide ? labels.stick : labels.unstick}}\"\n      on:click=\"handleStickerClick()\">\n    <span class=\"{{_options.hide ? _pinUpClass : _pinDownClass}}\"></span>\n  </div>\n{{/if}}\n\n<script>\n  import PNotify from \"./PNotify.html\";\n\n  export default {\n    setup (Component) {\n      Component.key = \"Buttons\";\n\n      Component.defaults = {\n        // Provide a button for the user to manually close the notice.\n        closer: true,\n        // Only show the closer button on hover.\n        closerHover: true,\n        // Provide a button for the user to manually stick the notice.\n        sticker: true,\n        // Only show the sticker button on hover.\n        stickerHover: true,\n        // Show the buttons even when the NonBlock module is in use.\n        showOnNonblock: false,\n        // The various displayed text, helps facilitating internationalization.\n        labels: {\n          close: \"Close\",\n          stick: \"Stick\",\n          unstick: \"Unstick\"\n        },\n        // The classes to use for button icons. Leave them null to use the classes from the styling you're using.\n        classes: {\n          closer: null,\n          pinUp: null,\n          pinDown: null\n        }\n      };\n\n      // Register the module with PNotify.\n      PNotify.modules.Buttons = Component;\n      // Prepend this module to the container.\n      PNotify.modulesPrependContainer.push(Component);\n\n      // Add button icons to icons objects.\n      Object.assign(PNotify.icons.brighttheme, {\n        closer: \"brighttheme-icon-closer\",\n        pinUp: \"brighttheme-icon-sticker\",\n        pinDown: \"brighttheme-icon-sticker brighttheme-icon-stuck\"\n      });\n      Object.assign(PNotify.icons.bootstrap3, {\n        closer: \"glyphicon glyphicon-remove\",\n        pinUp: \"glyphicon glyphicon-pause\",\n        pinDown: \"glyphicon glyphicon-play\"\n      });\n      Object.assign(PNotify.icons.fontawesome4, {\n        closer: \"fa fa-times\",\n        pinUp: \"fa fa-pause\",\n        pinDown: \"fa fa-play\"\n      });\n      Object.assign(PNotify.icons.fontawesome5, {\n        closer: \"fas fa-times\",\n        pinUp: \"fas fa-pause\",\n        pinDown: \"fas fa-play\"\n      });\n    },\n\n    oncreate () {\n      this.fire(\"init\", {module: this});\n    },\n\n    data () {\n      return Object.assign({\n        \"_notice\": null, // The PNotify notice.\n        \"_options\": {}, // The options for the notice.\n        \"_mouseIsIn\": false,\n      }, PNotify.modules.Buttons.defaults);\n    },\n\n    computed: {\n      // Whether to show the sticker icon.\n      _showSticker: (sticker, showOnNonblock, _options) => sticker && (!(_options.modules && _options.modules.NonBlock && _options.modules.NonBlock.nonblock) || showOnNonblock),\n      // Whether to show the closer icon.\n      _showCloser: (closer, showOnNonblock, _options) => closer && (!(_options.modules && _options.modules.NonBlock && _options.modules.NonBlock.nonblock) || showOnNonblock),\n      // These are button icon classes.\n      _pinUpClass: (classes, _notice) => _notice ? (classes.pinUp === null ? _notice.get(\"_icons\").pinUp : classes.pinUp) : '',\n      _pinDownClass: (classes, _notice) => _notice ? (classes.pinDown === null ? _notice.get(\"_icons\").pinDown : classes.pinDown) : '',\n      _closerClass: (classes, _notice) => _notice ? (classes.closer === null ? _notice.get(\"_icons\").closer : classes.closer) : '',\n    },\n\n    methods: {\n      initModule(options) {\n        this.set(options);\n        this.get(\"_notice\").on(\"mouseenter\", () => this.set({\"_mouseIsIn\": true}));\n        this.get(\"_notice\").on(\"mouseleave\", () => this.set({\"_mouseIsIn\": false}));\n        this.get(\"_notice\").observe(\"hide\", (hide) => {\n          const sticker = this.get(\"sticker\");\n\n          if (!sticker) {\n            return;\n          }\n\n          // Font Awesome 5 replaces our lovely element with a gross SVG. In order\n          // to make it play nice with Svelte, we have to clear the element and\n          // make it again.\n          const icon = hide ? this.get(\"classes\").pinUp : this.get(\"classes\").pinDown;\n          if (\n              (this.get(\"_notice\").get(\"icons\") === \"fontawesome5\")\n              || (typeof icon === \"string\" && icon.match(/(^| )fa[srlb]($| )/))\n            ) {\n            this.set({\"sticker\": false});\n            this.set({\"sticker\": true});\n          }\n        });\n      },\n\n      handleStickerClick() {\n        const _notice = this.get(\"_notice\");\n        _notice.update({hide: !_notice.get(\"hide\")});\n      },\n\n      handleCloserClick() {\n        this.get(\"_notice\").close(false);\n        this.set({\"_mouseIsIn\": false});\n      }\n    }\n  }\n</script>\n\n<style>\n  .ui-pnotify-closer,\n  .ui-pnotify-sticker {\n    float: right;\n    margin-left: .5em;\n    cursor: pointer;\n  }\n  :global([dir=rtl]) .ui-pnotify-closer,\n  :global([dir=rtl]) .ui-pnotify-sticker {\n    float: left;\n    margin-right: .5em;\n    margin-left: 0;\n  }\n  .ui-pnotify-buttons-hidden {\n    visibility: hidden;\n  }\n</style>\n"],"names":[],"mappings":"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"}