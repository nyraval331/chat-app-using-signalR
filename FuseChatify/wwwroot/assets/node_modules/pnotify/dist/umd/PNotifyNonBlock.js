!function(t,e){if("function"==typeof define&&define.amd)define("PNotifyNonBlock",["exports","PNotify"],e);else if("undefined"!=typeof exports)e(exports,require("./PNotify"));else{var o={};e(o,t.PNotify),t.PNotifyNonBlock=o}}(this,function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=(o=e)&&o.__esModule?o:{default:o};var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},s=/^on/,a=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,c=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,l=/^(scroll|resize|(un)?load|abort|error)$/,u=function(t,e,o){var n=void 0;if(e=e.toLowerCase(),document.createEvent&&t.dispatchEvent){if((e=e.replace(s,"")).match(a)?(t.getBoundingClientRect(),(n=document.createEvent("MouseEvents")).initMouseEvent(e,o.bubbles,o.cancelable,o.view,o.detail,o.screenX,o.screenY,o.clientX,o.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,o.relatedTarget)):e.match(c)?(n=document.createEvent("UIEvents")).initUIEvent(e,o.bubbles,o.cancelable,o.view,o.detail):e.match(l)&&(n=document.createEvent("HTMLEvents")).initEvent(e,o.bubbles,o.cancelable),!n)return;t.dispatchEvent(n)}else e.match(s)||(e="on"+e),n=document.createEventObject(o),t.fireEvent(e,n)},f=void 0;var p;function d(){var t=this,e=[],o=function(t,o,n){var i=document.elementFromPoint(o.clientX,o.clientY);t.refs.elem.classList.add("ui-pnotify-nonblock-hide");var r=document.elementFromPoint(o.clientX,o.clientY);t.refs.elem.classList.remove("ui-pnotify-nonblock-hide");var s=window.getComputedStyle(r).cursor;!function(t){for(var o=0;o<e.length;o++)if(e[o].elem===t)return;e.push({elem:t,cursorStyleValue:t.style.getPropertyValue("cursor"),cursorStylePriority:t.style.getPropertyPriority("cursor")})}(i),i.style.setProperty("cursor","auto"===s?"default":s,"important"),f&&f==r||(f&&(u(f,"mouseleave",o),u(f,"mouseout",o)),u(r,"mouseenter",o),u(r,"mouseover",o)),u(r,n,o),f=r},n=this.get("_notice");n.on("mouseenter",function(e){t.get("nonblock")&&e.stopPropagation&&(e.stopPropagation(),n.addModuleClass("ui-pnotify-nonblock-fade"))}),n.on("mouseleave",function(o){t.get("nonblock")&&o.stopPropagation&&o.stopPropagation(),f=null,function(){for(var t=0;t<e.length;t++)e[t].elem.style.setProperty("cursor",e[t].cursorStyleValue,e[t].cursorStylePriority);e.length=0}(),t.get("nonblock")&&n.removeModuleClass("ui-pnotify-nonblock-fade")}),n.on("mouseover",function(e){t.get("nonblock")&&e.stopPropagation&&e.stopPropagation()}),n.on("mouseout",function(e){t.get("nonblock")&&e.stopPropagation&&e.stopPropagation()}),n.on("mousemove",function(e){t.get("nonblock")&&e.stopPropagation&&(e.stopPropagation(),o(n,e,"onmousemove"))}),n.on("mousedown",function(e){t.get("nonblock")&&e.stopPropagation&&(e.stopPropagation(),e.preventDefault(),o(n,e,"onmousedown"))}),n.on("mouseup",function(e){t.get("nonblock")&&e.stopPropagation&&(e.stopPropagation(),e.preventDefault(),o(n,e,"onmouseup"))}),n.on("click",function(e){t.get("nonblock")&&e.stopPropagation&&(e.stopPropagation(),o(n,e,"onclick"))}),n.on("dblclick",function(e){t.get("nonblock")&&e.stopPropagation&&(e.stopPropagation(),o(n,e,"ondblclick"))})}function h(){var t,e,o=(t="style",document.createElement(t));o.id="svelte-862694281-style",o.textContent="[ui-pnotify].ui-pnotify.ui-pnotify-nonblock-fade{opacity:.2 !important}[ui-pnotify].ui-pnotify.ui-pnotify-nonblock-hide{display:none !important}",e=o,document.head.appendChild(e)}function m(t){var e,o;o=t,(e=this)._observers={pre:b(),post:b()},e._handlers=b(),e._bind=o._bind,e.options=o,e.root=o.root||e,e.store=e.root.store||o.store,this._state=v(r({_notice:null,_options:{}},n.default.modules.NonBlock.defaults),t.data),document.getElementById("svelte-862694281-style")||h();var i=d.bind(this);t.root||(this._oncreate=[]),this._fragment=(this._state,{c:_,m:_,p:_,u:_,d:_}),this.root._oncreate.push(i),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null),y(this._oncreate))}function _(){}function v(t){for(var e,o,n=1,i=arguments.length;n<i;n++)for(e in o=arguments[n])t[e]=o[e];return t}function y(t){for(;t&&t.length;)t.shift()()}function g(t){this.destroy=_,this.fire("destroy"),this.set=this.get=_,!1!==t&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function b(){return Object.create(null)}function P(t,e,o,n,i){for(var r in e)if(o[r]){var s=n[r],a=i[r],c=e[r];if(c)for(var l=0;l<c.length;l+=1){var u=c[l];u.__calling||(u.__calling=!0,u.call(t,s,a),u.__calling=!1)}}}v(m.prototype,{initModule:function(t){this.set(t)}},{destroy:g,get:function(t){return t?this._state[t]:this._state},fire:function(t,e){var o=t in this._handlers&&this._handlers[t].slice();if(!o)return;for(var n=0;n<o.length;n+=1)o[n].call(this,e)},observe:function(t,e,o){var n=o&&o.defer?this._observers.post:this._observers.pre;(n[t]||(n[t]=[])).push(e),o&&!1===o.init||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1);return{cancel:function(){var o=n[t].indexOf(e);~o&&n[t].splice(o,1)}}},on:function(t,e){if("teardown"===t)return this.on("destroy",e);var o=this._handlers[t]||(this._handlers[t]=[]);return o.push(e),{cancel:function(){var t=o.indexOf(e);~t&&o.splice(t,1)}}},set:function(t){if(this._set(v({},t)),this.root._lock)return;this.root._lock=!0,y(this.root._beforecreate),y(this.root._oncreate),y(this.root._aftercreate),this.root._lock=!1},teardown:g,_set:function(t){var e=this._state,o={},n=!1;for(var i in t)this._differs(t[i],e[i])&&(o[i]=n=!0);if(!n)return;this._state=v({},e,t),this._recompute(o,this._state),this._bind&&this._bind(o,this._state);this._fragment&&(P(this,this._observers.pre,o,this._state,e),this._fragment.p(o,this._state),P(this,this._observers.post,o,this._state,e))},_mount:function(t,e){this._fragment.m(t,e)},_unmount:function(){this._fragment&&this._fragment.u()},_differs:function(t,e){return t!=t?e==e:t!==e||t&&"object"===(void 0===t?"undefined":i(t))||"function"==typeof t}}),m.prototype._recompute=_,(p=m).key="NonBlock",p.defaults={nonblock:!1},p.init=function(t){return new p({target:document.body,data:{_notice:t}})},n.default.modules.NonBlock=p,t.default=m});
//# sourceMappingURL=PNotifyNonBlock.js.map