import PNotify from"./PNotify.js";function data(){return Object.assign({_notice:null,_options:{}},PNotify.modules.Confirm.defaults)}var methods={initModule(t){this.set(t)},afterOpen(){this.get("prompt")&&(this.get("promptMultiLine")?this.refs.promptMulti.focus():this.refs.promptSingle.focus())},handleClick(t,e){t.click&&t.click(this.get("_notice"),this.get("prompt")?this.get("promptValue"):null,e)},handleKeyPress(t){if(13==t.keyCode&&!t.shiftKey){t.preventDefault();const e=this.get("buttons");for(let n=0;n<e.length;n++)e[n].promptTrigger&&e[n].click&&e[n].click(this.get("_notice"),this.get("prompt")?this.get("promptValue"):null,t)}}};function oncreate(){this.fire("init",{module:this})}function setup(t){t.key="Confirm",t.defaults={confirm:!1,prompt:!1,promptClass:"",promptValue:"",promptMultiLine:!1,align:"flex-end",buttons:[{text:"Ok",textTrusted:!1,addClass:"",primary:!0,promptTrigger:!0,click:(t,e)=>{t.close(),t.fire("pnotify.confirm",{notice:t,value:e})}},{text:"Cancel",textTrusted:!1,addClass:"",click:t=>{t.close(),t.fire("pnotify.cancel",{notice:t})}}]},PNotify.modules.Confirm=t,PNotify.modulesAppendContainer.push(t),Object.assign(PNotify.styling.brighttheme,{actionBar:"",promptBar:"",btn:"",btnPrimary:"brighttheme-primary",input:""}),Object.assign(PNotify.styling.bootstrap3,{actionBar:"ui-pnotify-confirm-ml",promptBar:"ui-pnotify-confirm-ml",btn:"btn btn-default ui-pnotify-confirm-mx-1",btnPrimary:"btn btn-default ui-pnotify-confirm-mx-1 btn-primary",input:"form-control"}),Object.assign(PNotify.styling.bootstrap4,{actionBar:"ui-pnotify-confirm-ml",promptBar:"ui-pnotify-confirm-ml",btn:"btn btn-secondary mx-1",btnPrimary:"btn btn-primary mx-1",input:"form-control"}),PNotify.styling.material||(PNotify.styling.material={}),Object.assign(PNotify.styling.material,{actionBar:"",promptBar:"",btn:"",btnPrimary:"ui-pnotify-material-primary",input:""})}function encapsulateStyles(t){setAttribute(t,"svelte-4249095202","")}function add_css(){var t=createElement("style");t.id="svelte-4249095202-style",t.textContent=".ui-pnotify-action-bar[svelte-4249095202],.ui-pnotify-prompt-bar[svelte-4249095202]{margin-top:5px;clear:both}.ui-pnotify-action-bar[svelte-4249095202]{display:flex;flex-wrap:wrap;justify-content:flex-end}.ui-pnotify-prompt-input[svelte-4249095202]{margin-bottom:5px;display:block;width:100%}.ui-pnotify-confirm-mx-1[svelte-4249095202]{margin:0 5px}.ui-pnotify.ui-pnotify-with-icon .ui-pnotify-confirm-ml{margin-left:24px}[dir=rtl] .ui-pnotify.ui-pnotify-with-icon .ui-pnotify-confirm-ml{margin-right:24px;margin-left:0}",appendNode(t,document.head)}function create_main_fragment(t,e){var n,i=(t.confirm||t.prompt)&&create_if_block(t,e);return{c:function(){i&&i.c(),n=createComment()},m:function(t,e){i&&i.m(t,e),insertNode(n,t,e)},p:function(t,o){o.confirm||o.prompt?i?i.p(t,o):((i=create_if_block(o,e)).c(),i.m(n.parentNode,n)):i&&(i.u(),i.d(),i=null)},u:function(){i&&i.u(),detachNode(n)},d:function(){i&&i.d()}}}function create_if_block_2(t,e){var n,i,o=!1;function r(){o=!0,e.set({promptValue:n.value}),o=!1}function s(t){e.handleKeyPress(t)}return{c:function(){n=createElement("textarea"),this.h()},h:function(){encapsulateStyles(n),addListener(n,"input",r),n.rows="5",n.className=i="\n                ui-pnotify-prompt-input\n                "+(t._notice.get("_styles").input?t._notice.get("_styles").input:"")+"\n                "+t.promptClass+"\n              ",addListener(n,"keypress",s)},m:function(i,o){insertNode(n,i,o),e.refs.promptMulti=n,n.value=t.promptValue},p:function(t,e){o||(n.value=e.promptValue),(t._notice||t.promptClass)&&i!==(i="\n                ui-pnotify-prompt-input\n                "+(e._notice.get("_styles").input?e._notice.get("_styles").input:"")+"\n                "+e.promptClass+"\n              ")&&(n.className=i)},u:function(){detachNode(n)},d:function(){removeListener(n,"input",r),removeListener(n,"keypress",s),e.refs.promptMulti===n&&(e.refs.promptMulti=null)}}}function create_if_block_3(t,e){var n,i,o=!1;function r(){o=!0,e.set({promptValue:n.value}),o=!1}function s(t){e.handleKeyPress(t)}return{c:function(){n=createElement("input"),this.h()},h:function(){encapsulateStyles(n),addListener(n,"input",r),n.type="text",n.className=i="\n                ui-pnotify-prompt-input\n                "+(t._notice.get("_styles").input?t._notice.get("_styles").input:"")+"\n                "+t.promptClass+"\n              ",addListener(n,"keypress",s)},m:function(i,o){insertNode(n,i,o),e.refs.promptSingle=n,n.value=t.promptValue},p:function(t,e){o||(n.value=e.promptValue),(t._notice||t.promptClass)&&i!==(i="\n                ui-pnotify-prompt-input\n                "+(e._notice.get("_styles").input?e._notice.get("_styles").input:"")+"\n                "+e.promptClass+"\n              ")&&(n.className=i)},u:function(){detachNode(n)},d:function(){removeListener(n,"input",r),removeListener(n,"keypress",s),e.refs.promptSingle===n&&(e.refs.promptSingle=null)}}}function create_if_block_1(t,e){var n,i,o=select_block_type(t),r=o(t,e);return{c:function(){n=createElement("div"),r.c(),this.h()},h:function(){encapsulateStyles(n),n.className=i="\n            ui-pnotify-prompt-bar\n            "+(t._notice.get("_styles").promptBar?t._notice.get("_styles").promptBar:"")+"\n            "+(t._notice.get("_styles").text?t._notice.get("_styles").text:"")+"\n          "},m:function(t,e){insertNode(n,t,e),r.m(n,null)},p:function(t,s){o===(o=select_block_type(s))&&r?r.p(t,s):(r.u(),r.d(),(r=o(s,e)).c(),r.m(n,null)),t._notice&&i!==(i="\n            ui-pnotify-prompt-bar\n            "+(s._notice.get("_styles").promptBar?s._notice.get("_styles").promptBar:"")+"\n            "+(s._notice.get("_styles").text?s._notice.get("_styles").text:"")+"\n          ")&&(n.className=i)},u:function(){detachNode(n),r.u()},d:function(){r.d()}}}function create_each_block(t,e,n,i,o){var r,s,c=select_block_type_1(t,e,n,i),a=c(t,e,n,i,o);return{c:function(){r=createElement("button"),a.c(),this.h()},h:function(){encapsulateStyles(r),r.type="button",r.className=s="\n              ui-pnotify-action-button\n              "+(n.primary?t._notice.get("_styles").btnPrimary?t._notice.get("_styles").btnPrimary:"":t._notice.get("_styles").btn?t._notice.get("_styles").btn:"")+"\n              "+(n.addClass?n.addClass:"")+"\n            ",addListener(r,"click",click_handler),r._svelte={component:o,buttons:e,button_index:i}},m:function(t,e){insertNode(r,t,e),a.m(r,null)},p:function(t,e,n,i,l){c===(c=select_block_type_1(e,n,i,l))&&a?a.p(t,e,n,i,l):(a.u(),a.d(),(a=c(e,n,i,l,o)).c(),a.m(r,null)),(t.buttons||t._notice)&&s!==(s="\n              ui-pnotify-action-button\n              "+(i.primary?e._notice.get("_styles").btnPrimary?e._notice.get("_styles").btnPrimary:"":e._notice.get("_styles").btn?e._notice.get("_styles").btn:"")+"\n              "+(i.addClass?i.addClass:"")+"\n            ")&&(r.className=s),r._svelte.buttons=n,r._svelte.button_index=l},u:function(){detachNode(r),a.u()},d:function(){a.d(),removeListener(r,"click",click_handler)}}}function create_if_block_4(t,e,n,i,o){var r,s,c=n.text;return{c:function(){r=createElement("noscript"),s=createElement("noscript")},m:function(t,e){insertNode(r,t,e),r.insertAdjacentHTML("afterend",c),insertNode(s,t,e)},p:function(t,e,n,i,o){t.buttons&&c!==(c=i.text)&&(detachBetween(r,s),r.insertAdjacentHTML("afterend",c))},u:function(){detachBetween(r,s),detachNode(r),detachNode(s)},d:noop}}function create_if_block_5(t,e,n,i,o){var r,s=n.text;return{c:function(){r=createText(s)},m:function(t,e){insertNode(r,t,e)},p:function(t,e,n,i,o){t.buttons&&s!==(s=i.text)&&(r.data=s)},u:function(){detachNode(r)},d:noop}}function create_if_block(t,e){for(var n,i,o,r,s=t.prompt&&create_if_block_1(t,e),c=t.buttons,a=[],l=0;l<c.length;l+=1)a[l]=create_each_block(t,c,c[l],l,e);return{c:function(){n=createElement("div"),s&&s.c(),i=createText("\n    "),o=createElement("div");for(var t=0;t<a.length;t+=1)a[t].c();this.h()},h:function(){encapsulateStyles(o),o.className=r="\n          ui-pnotify-action-bar\n          "+(t._notice.get("_styles").actionBar?t._notice.get("_styles").actionBar:"")+"\n          "+(t._notice.get("_styles").text?t._notice.get("_styles").text:"")+"\n        ",setStyle(o,"justify-content",t.align),n.className="ui-pnotify-confirm"},m:function(t,e){insertNode(n,t,e),s&&s.m(n,null),appendNode(i,n),appendNode(o,n);for(var r=0;r<a.length;r+=1)a[r].m(o,null)},p:function(t,c){c.prompt?s?s.p(t,c):((s=create_if_block_1(c,e)).c(),s.m(n,i)):s&&(s.u(),s.d(),s=null);var l=c.buttons;if(t.buttons||t._notice){for(var u=0;u<l.length;u+=1)a[u]?a[u].p(t,c,l,l[u],u):(a[u]=create_each_block(c,l,l[u],u,e),a[u].c(),a[u].m(o,null));for(;u<a.length;u+=1)a[u].u(),a[u].d();a.length=l.length}t._notice&&r!==(r="\n          ui-pnotify-action-bar\n          "+(c._notice.get("_styles").actionBar?c._notice.get("_styles").actionBar:"")+"\n          "+(c._notice.get("_styles").text?c._notice.get("_styles").text:"")+"\n        ")&&(o.className=r),t.align&&setStyle(o,"justify-content",c.align)},u:function(){detachNode(n),s&&s.u();for(var t=0;t<a.length;t+=1)a[t].u()},d:function(){s&&s.d(),destroyEach(a)}}}function select_block_type(t){return t.promptMultiLine?create_if_block_2:create_if_block_3}function select_block_type_1(t,e,n,i){return n.textTrusted?create_if_block_4:create_if_block_5}function click_handler(t){var e=this._svelte.component,n=this._svelte.buttons[this._svelte.button_index];e.handleClick(n,t)}function PNotifyConfirm(t){init(this,t),this.refs={},this._state=assign(data(),t.data),document.getElementById("svelte-4249095202-style")||add_css();var e=oncreate.bind(this);t.root||(this._oncreate=[]),this._fragment=create_main_fragment(this._state,this),this.root._oncreate.push(e),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null),callAll(this._oncreate))}function setAttribute(t,e,n){t.setAttribute(e,n)}function createElement(t){return document.createElement(t)}function appendNode(t,e){e.appendChild(t)}function createComment(){return document.createComment("")}function insertNode(t,e,n){e.insertBefore(t,n)}function detachNode(t){t.parentNode.removeChild(t)}function addListener(t,e,n){t.addEventListener(e,n,!1)}function removeListener(t,e,n){t.removeEventListener(e,n,!1)}function detachBetween(t,e){for(;t.nextSibling&&t.nextSibling!==e;)t.parentNode.removeChild(t.nextSibling)}function noop(){}function createText(t){return document.createTextNode(t)}function setStyle(t,e,n){t.style.setProperty(e,n)}function destroyEach(t){for(var e=0;e<t.length;e+=1)t[e]&&t[e].d()}function init(t,e){t._observers={pre:blankObject(),post:blankObject()},t._handlers=blankObject(),t._bind=e._bind,t.options=e,t.root=e.root||t,t.store=t.root.store||e.store}function assign(t){for(var e,n,i=1,o=arguments.length;i<o;i++)for(e in n=arguments[i])t[e]=n[e];return t}function callAll(t){for(;t&&t.length;)t.shift()()}function destroy(t){this.destroy=noop,this.fire("destroy"),this.set=this.get=noop,!1!==t&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function get(t){return t?this._state[t]:this._state}function fire(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var i=0;i<n.length;i+=1)n[i].call(this,e)}function observe(t,e,n){var i=n&&n.defer?this._observers.post:this._observers.pre;return(i[t]||(i[t]=[])).push(e),n&&!1===n.init||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1),{cancel:function(){var n=i[t].indexOf(e);~n&&i[t].splice(n,1)}}}function on(t,e){if("teardown"===t)return this.on("destroy",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function set(t){this._set(assign({},t)),this.root._lock||(this.root._lock=!0,callAll(this.root._beforecreate),callAll(this.root._oncreate),callAll(this.root._aftercreate),this.root._lock=!1)}function _set(t){var e=this._state,n={},i=!1;for(var o in t)this._differs(t[o],e[o])&&(n[o]=i=!0);i&&(this._state=assign({},e,t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(dispatchObservers(this,this._observers.pre,n,this._state,e),this._fragment.p(n,this._state),dispatchObservers(this,this._observers.post,n,this._state,e)))}function _mount(t,e){this._fragment.m(t,e)}function _unmount(){this._fragment&&this._fragment.u()}function _differs(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function blankObject(){return Object.create(null)}function dispatchObservers(t,e,n,i,o){for(var r in e)if(n[r]){var s=i[r],c=o[r],a=e[r];if(a)for(var l=0;l<a.length;l+=1){var u=a[l];u.__calling||(u.__calling=!0,u.call(t,s,c),u.__calling=!1)}}}assign(PNotifyConfirm.prototype,methods,{destroy:destroy,get:get,fire:fire,observe:observe,on:on,set:set,teardown:destroy,_set:_set,_mount:_mount,_unmount:_unmount,_differs:_differs}),PNotifyConfirm.prototype._recompute=noop,setup(PNotifyConfirm);export default PNotifyConfirm;
//# sourceMappingURL=PNotifyConfirm.js.map